<div class="container-fluid">
    <h3 class="text-center">Cloud Summary</h3>

    <div>
        <form>
            <div class="row">
                <div class="col-md-4">
                    <p>Domain</p>
                    <div class="form-group">
                        <select name="domainSelect" id="domainSelect" ng-model="selectedDomain" ng-change="domainChanged()" class="form-control">
                            <option value="">All</option>
                            <option ng-repeat="domain in domains" value="{{ domain.id }}">{{ domain.name }}</option>
                        </select>
                    </div>
                </div> 

                <div class="col-md-4">
                    <p>Month</p>
                    <p class="input-group">
                        <input type="text" class="form-control" uib-datepicker-popup="MMM/yyyy" ng-model="rangeEnd" is-open="rangeEndOpen" showWeeks="false" datepicker-options="{minMode: 'month'}" datepicker-mode="'month'" ng-required="true" onkeydown="return false"/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="openRangeEnd()"><i class="glyphicon glyphicon-calendar"></i></button>
                        </span>
                    </p>
                </div>

                <div class="col-md-4">
                    <p>{{ status }}</p>
                    <div class="btn-group btn-group-justified" role="group">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" ng-click="load()">Update</button>
                        </div>
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" ng-csv="export()" field-separator="\t" filename="cloud.summary.tsv">Export as TSV</button>
                        </div>
                    </div>
                </div>
                
            </div> 
        </form>

        <div class="row"> 
            <div class="col-sm-12">
                <div style="padding-top: 25px;">
                    <table class="table table-striped" style="width: 100%;">
                        <tr>
                            <th>Tenant</th> 
                            <th>Server ID</th> 
                            <th>Server Name</th>
                            <!-- th>Instance Status ID </th --> 
                            <!-- th>Account ID</th --> 
                            <th>Hypervisorname </th>
                            <th>Inventory Code</th>
                            <th>Hours</th>    
                            <th>VCPUs</th>
                            <th>Usage</th>    
                            <th>RAM</th>
                            <th>Disk</th>
                            <th>Ephemeral</th>  
                        </tr>
                        <tr ng-repeat="instance in instancesState | orderBy: 'tenant_name'"> 
                            <td>{{ instance.tenant_name }}</td> 
                            <td>{{ instance.openstack_id }}</td> 
                            <td>{{ instance.name }}</td> 
                            <!-- td>{{ instance.id}}</td --> 
                            <!-- td>{{ instance.account }}</td --> 
                            <td>{{ instance.hypervisorname }}</td> 
                            <td>{{ instance.flavorname }}</td>
                            <td>{{ ((instance.snapshotmax - instance.snapshotmin) / 3600).toFixed(1) }}</td>  
                            <td>{{ instance.vcpus }}</td>
                            <td>{{ formatDuration((instance.snapshotmax - instance.snapshotmin) * instance.vcpus, "seconds") }}</td>  
                            <td>{{ formatNumber(instance.ram) }}</td>
                            <td>{{ instance.disk }}</td>
                            <td>{{ instance.ephemeral }}</td>  
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div> 